<div class="message-container" *ngIf="message && !message.isRichContent" [ngClass]="messageType">
  <div class="username">
    <div *ngIf="message.showUser">{{message.userName}}</div>
  </div>
  <div class="time">
    <div>
      <span *ngIf="!isYesterdayMessage() && !isTodayMessage()">{{message.timestamp | date:'dd-MMM h:mm a'}}</span>
      <span *ngIf="isYesterdayMessage()">Yesterday {{message.timestamp | date:'h:mm a'}}</span>
      <span *ngIf="isTodayMessage()" > {{message.timestamp | date:'h:mm a'}}</span>
      <span *ngIf="message.type == 0"  [ngClass]="{'read': message.read}">
       &nbsp;&nbsp;<span *ngIf="message.sequence != null && message.sequence != undefined">&#10003;</span> <span *ngIf="message.accepted || message.read" >&#10003;</span>
      </span>
    </div>
  </div>
  <div class="message" [ngClass]="{'hasImage': message.file && message.file.preview}">
    <img *ngIf="message.file" src="{{message.file.preview}}" alt="Smiley face" (click)="onDownload($event)">
    <div>{{message.message}}</div>
  </div>
</div>

<div class="message-container" *ngIf="message && message.isRichContent" [ngClass]="messageType">
  <div class="username">
    <div *ngIf="message.showUser">{{message.userName}}</div>
  </div>
  <div>
    <p class="alert-danger" >"This is a rich content message but is not yet parsed!!!!"</p>
    <span *ngIf="message.message.content && message.message.content.elements[0]">{{message.message.content.elements[0].text}}</span>
    <!--TODO: needs to be addapted to the PCS or a new component created-->
  </div>
</div>
